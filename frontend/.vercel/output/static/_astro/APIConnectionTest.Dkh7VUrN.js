import{j as e,t as d}from"./api.CDaSil7F.js";import{r as t}from"./index.BJfUAbRs.js";function m(){const[s,l]=t.useState(null),[r,n]=t.useState(!1),[o,c]=t.useState("");t.useEffect(()=>{c("http://localhost:3000/api")},[]);const i=async()=>{n(!0);try{const a=await d();l(a)}catch(a){l({success:!1,message:"Error al ejecutar la prueba",details:a.toString()})}finally{n(!1)}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 my-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Diagnóstico de Conexión API"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-700 mb-2",children:"URL de la API configurada:"}),e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-purple-700",children:o})]}),e.jsx("button",{onClick:i,disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:r?"Probando conexión...":"Probar conexión con la API"}),s&&e.jsxs("div",{className:`mt-6 p-4 rounded ${s.success?"bg-green-100":"bg-red-100"}`,children:[e.jsx("h3",{className:`font-bold ${s.success?"text-green-800":"text-red-800"}`,children:s.success?"✅ Conexión exitosa":"❌ Error de conexión"}),e.jsx("p",{className:"mt-2",children:s.message}),s.details&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-semibold",children:"Detalles:"}),e.jsx("pre",{className:"bg-gray-800 text-white p-3 rounded mt-2 overflow-x-auto text-sm",children:typeof s.details=="object"?JSON.stringify(s.details,null,2):s.details})]}),s.data&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-semibold",children:"Datos recibidos:"}),e.jsx("pre",{className:"bg-gray-800 text-white p-3 rounded mt-2 overflow-x-auto text-sm",children:JSON.stringify(s.data,null,2)})]})]}),e.jsxs("div",{className:"mt-6 border-t pt-4",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Soluciones comunes:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[e.jsx("li",{children:"Verifica que la API esté ejecutándose en la URL correcta"}),e.jsx("li",{children:"Asegúrate de que no haya problemas de CORS en el backend"}),e.jsx("li",{children:"Comprueba que los endpoints de la API coincidan con los que espera el frontend"}),e.jsx("li",{children:"Verifica que no haya firewalls o proxies bloqueando las conexiones"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Nombre de tabla correcto:"}),' La API está configurada para usar la tabla "stats"']})]})]})]})}export{m as default};
